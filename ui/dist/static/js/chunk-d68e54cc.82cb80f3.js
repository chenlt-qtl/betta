(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d68e54cc"],{"2fdf":function(t,e,s){},"32c4":function(t,e,s){"use strict";s.r(e);var i,n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"timer-container"},[s("div",{staticClass:"header"},[s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return t.setTime(30,10)}}},[t._v("30-10")]),s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return t.setTime(45,12)}}},[t._v("45-12")])],1),s("div",{staticClass:"header"},[s("span",[t._v("上课时长: "),s("el-input-number",{staticStyle:{width:"150px"},attrs:{disabled:t.isRun},on:{change:function(e){return t.classDuration=e}},model:{value:t.classDuration,callback:function(e){t.classDuration=e},expression:"classDuration"}})],1),s("span",[t._v("下课时长: "),s("el-input-number",{staticStyle:{width:"150px"},attrs:{disabled:t.isRun},on:{change:function(e){return t.afterClassDuration=e}},model:{value:t.afterClassDuration,callback:function(e){t.afterClassDuration=e},expression:"afterClassDuration"}})],1),s("div",[s("el-button",{on:{click:t.startClass}},[t._v("开始上课")]),s("el-button",{on:{click:t.stop}},[t._v("暂停/继续")]),s("el-popconfirm",{staticStyle:{"margin-left":"10px"},attrs:{disabled:!t.isRun,title:"确认要重置?"},on:{confirm:t.reset}},[s("el-button",{attrs:{slot:"reference",disabled:!t.isRun},slot:"reference"},[t._v("重置")])],1)],1)]),s("div",{staticClass:"display"},[s("div",[t._v(" 当前状态: "),s("div",{class:"status "+(t.classStatus?"inClass":"afterClass")},[t._v(" "+t._s(t.classStatus?"上课":"下课")+" ")])]),s("rest-time",{attrs:{restTime:t.restTime}})],1),s("video-dialog",{attrs:{open:t.open,onClose:function(){return t.open=!1}}})],1)},a=[],r=(s("d3b7"),s("c074")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{title:"",visible:t.openWin,width:"760px","append-to-body":""},on:{"update:visible":function(e){t.openWin=e},close:t.onClose}},[s("video",{ref:"videoPlayer",attrs:{width:"720",height:"480"}},[s("source",{attrs:{src:t.videoSrc,type:"video/mp4"}})])])},l=[],c=["lonely","wangzi","DaDaDa","DiDiDiDiWa","HotHotHot","India","mfsw","TocaToca","TheGreatest"],u=0,f={props:["open","onClose"],data:function(){return{videoSrc:"",openWin:this.open}},watch:{open:function(){var t=this;this.openWin=this.open,this.open?this.$nextTick((function(){t.playVideo()})):this.$refs.videoPlayer&&(this.$refs.videoPlayer.removeEventListener("pause",this.playVideo),this.$refs.videoPlayer.pause())}},methods:{playVideo:function(){this.videoSrc="/prod-api/profile/sys/video/"+c[u]+".mp4",++u>=c.length&&(u=0),this.$refs.videoPlayer.load(),this.$refs.videoPlayer.play()}}},d=f,p=s("2877"),h=Object(p["a"])(d,o,l,!1,null,null,null),v=h.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" 剩余时间: "),s("div",{staticClass:"restTime"},[s("span",[t._v(t._s(t.displayStr))])])])},b=[],D={props:["restTime"],data:function(){return{displayStr:"00 : 00"}},watch:{restTime:function(){this.displayStr=this.getDisplayStr(this.restTime)}},methods:{getDisplayStr:function(t){if(t>0){var e="",s=Math.floor(t/60);e+=s<10?"0":"",e+=s;var i=t%60;return e+=i<10?" : 0":" : ",e+=i,e}return"00 : 00"}}},y=D,T=(s("5c3e"),Object(p["a"])(y,m,b,!1,null,"62b24408",null)),C=T.exports,g=[{start:{hour:8,mins:30},end:{hour:12,mins:0}},{start:{hour:13,mins:0},end:{hour:21,mins:30}}],S={components:{VideoDialog:v,RestTime:C},data:function(){return{classDuration:localStorage.getItem("classDuration")||30,afterClassDuration:localStorage.getItem("afterClassDuration")||12,classStatus:!1,isRun:!1,open:!1,restTime:0}},beforeDestroy:function(){clearInterval(i)},methods:{setTime:function(t,e){this.classDuration=t,this.afterClassDuration=e},startClass:function(){localStorage.setItem("classDuration",this.classDuration),localStorage.setItem("afterClassDuration",this.afterClassDuration),clearInterval(i),i=null,this.isRun=!0,this.startInterval(!0)},soundEffect:function(t){this.checkTime()&&(t?(Object(r["a"])("/profile/sys/mp3/5c892db31ad7e23153.mp3"),this.open=!1):(Object(r["a"])("/profile/sys/mp3/5c892db3b1b9a62189.mp3"),this.open=!0))},checkTime:function(){var t=new Date,e=!1;return g.forEach((function(s){var i=s.start,n=s.end,a=new Date;a.setHours(i.hour),a.setMinutes(i.mins);var r=new Date;r.setHours(n.hour),r.setMinutes(n.mins),a<=t&&t<=r&&(e=!0)})),e},stop:function(){var t=this;i?(clearInterval(i),i=null):i=setInterval((function(){t.restTime=--t.restTime}),1e3)},startInterval:function(t){var e=this;this.soundEffect(t),this.restTime=60*(t?this.classDuration:this.afterClassDuration),this.classStatus=t,i=setInterval((function(){e.restTime<=0?(clearInterval(i),i=null,e.startInterval(!t)):e.restTime=--e.restTime}),1e3)},reset:function(){this.classStatus=!1,this.restTime=0,clearInterval(i),this.isRun=!1}}},_=S,w=(s("9ba9"),Object(p["a"])(_,n,a,!1,null,null,null));e["default"]=w.exports},3498:function(t,e,s){},"5c3e":function(t,e,s){"use strict";s("3498")},"9ba9":function(t,e,s){"use strict";s("2fdf")},c074:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));s("ac1f"),s("00b4");var i,n=new Audio,a=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};n.src="/prod-api"+t,n.load(),clearTimeout(i),n.pause();var a,r,o=1,l=(e||"").split(",");if(2==l.length||3==l.length){if(/^\d+$/.test(l[0]))r=parseInt(l[0]);else if(/^\d+:\d+$/.test(l[0])){var c=l[0].split(":");r=60*parseInt(c[0])+parseInt(c[1])}/^\d+(.\d+)*$/.test(l[1])&&(a=parseFloat(l[1])),l[2]&&(o=parseFloat(l[2]))}if(n.currentTime=0|r,n.playbackRate=o,n.play().catch((function(t){s&&s(t)})),a){var u=a/o;console.log("duration",u),i=setTimeout((function(){n.pause()}),1e3*u)}return n}}}]);
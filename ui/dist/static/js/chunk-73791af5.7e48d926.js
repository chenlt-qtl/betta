(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73791af5"],{"012c":function(t,e,n){"use strict";n("ef92")},"3ce8":function(t,e,n){"use strict";n("dd7e")},"3e38":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"topTitle"},[t._v("任务中心")]),n("div",{staticClass:"tabDiv"},[n("ul",{staticClass:"tabs"},t._l(["进行中","待完成","已完成"],(function(e,s){return n("li",{key:e,class:"tab "+(t.selectedType==s+1?"active":""),on:{click:function(){return t.handleTabClick(s+1)}}},[t._v(" "+t._s(e)+" ")])})),0),n("span",{staticClass:"line",style:{left:33*(t.selectedType-.5)-1+"%"}})]),n("el-row",{staticClass:"content"},[n("div",{staticClass:"card"},[n("AddTaskBar",{attrs:{selectedType:t.selectedType,getTaskList:t.getList}}),n("TaskList",{attrs:{selectedType:t.selectedType,getTaskList:t.getList,listData:t.listData}})],1)])],1)},i=[],a=(n("4de4"),n("d3b7"),n("d09d")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[3!=t.selectedType?n("div",{staticClass:"addBar"},[n("i",{staticClass:"el-icon-plus"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{placeholder:"请输入任务内容"},domProps:{value:t.content},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onAddTask(e)},input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("el-button",{attrs:{type:"text"},on:{click:t.onAddTask}},[t._v("保存")])],1):t._e(),n("div",{staticClass:"errorBar",style:{height:t.showMsg?"36px":0}},[n("el-alert",{attrs:{title:"任务名称不能为空",type:"error","show-icon":""}})],1)])},o=[],r={name:"AddTaskBar",props:["selectedType","getTaskList"],data:function(){return{loading:!0,showMsg:!1,content:""}},methods:{onAddTask:function(){var t=this;this.content?(this.showMsg=!1,Object(a["a"])({content:this.content,type:this.selectedType}).then((function(e){t.$modal.msgSuccess("新增成功"),t.content="",t.getTaskList()}))):(this.showMsg=!0,setTimeout((function(){t.showMsg=!1}),2e3))}}},l=r,u=(n("3ce8"),n("2877")),d=Object(u["a"])(l,c,o,!1,null,"2405eec0",null),p=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"taskDiv"},t._l(t.listData,(function(e){return n("ul",{key:e.id,staticClass:"taskList"},[n("li",{class:"taskItem "+(3==t.selectedType?"gray":"")},[2!=t.selectedType?n("el-checkbox",{attrs:{value:3==t.selectedType}}):t._e(),n("div",{staticClass:"taskName"},[t._v(" "+t._s(e.content)+" "),1==t.selectedType?n("span",{staticClass:"taskNameBar"},[1==t.selectedType?n("el-button",{attrs:{type:"text",size:"mini",title:"移动到未完成",icon:"el-icon-refresh-right"},on:{click:function(){return t.onChangeType(e,2)}}}):t._e(),n("el-button",{attrs:{type:"text",size:"mini",title:"删除",icon:"el-icon-delete"},on:{click:function(){return t.onDelete(e)}}})],1):t._e()]),n("span",{staticClass:"toolbar"},[1==t.selectedType?n("el-button",{attrs:{type:"primary",round:""},on:{click:function(){return t.onChangeType(e,3)}}},[t._v("完成")]):t._e(),1!=t.selectedType?n("el-button",{attrs:{type:"text",size:"mini",title:"开始任务",icon:"el-icon-caret-right"},on:{click:function(){return t.onChangeType(e,1)}}}):t._e(),1!=t.selectedType?n("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(){return t.onDelete(e)}}}):t._e()],1)],1)])})),0)},h=[],k=n("5530"),y={name:"TaskList",props:["selectedType","getTaskList","listData"],data:function(){return{loading:!0}},methods:{onChangeType:function(t,e){var n=this;Object(a["e"])(Object(k["a"])(Object(k["a"])({},t),{},{type:e})).then((function(t){n.$modal.msgSuccess("修改成功"),n.content="",n.getTaskList()}))},onDelete:function(t){var e=this;this.$modal.confirm('删除任务"'+t.content+'"？').then((function(){return Object(a["b"])(t.id)})).then((function(){e.getTaskList(),e.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},T=y,m=(n("012c"),Object(u["a"])(T,f,h,!1,null,"4fbe08bb",null)),g=m.exports,b={name:"Task",components:{AddTaskBar:p,TaskList:g},data:function(){return{selectedType:1,loading:!0,taskList:[],queryParams:{pageNum:1,pageSize:1e3}}},computed:{listData:function(){var t=this;return this.taskList.filter((function(e){return e.type==t.selectedType}))}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,Object(a["d"])(this.queryParams).then((function(e){t.taskList=e.rows,t.loading=!1}))},handleTabClick:function(t){this.selectedType=t}}},v=b,C=(n("e39f"),Object(u["a"])(v,s,i,!1,null,"bd191f30",null));e["default"]=C.exports},cfa5:function(t,e,n){},d09d:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return r}));var s=n("b775");function i(t){return Object(s["a"])({url:"/other/task/list",method:"get",params:t})}function a(t){return Object(s["a"])({url:"/other/task/"+t,method:"get"})}function c(t){return Object(s["a"])({url:"/other/task",method:"post",data:t})}function o(t){return Object(s["a"])({url:"/other/task",method:"put",data:t})}function r(t){return Object(s["a"])({url:"/other/task/"+t,method:"delete"})}},dd7e:function(t,e,n){},e39f:function(t,e,n){"use strict";n("cfa5")},ef92:function(t,e,n){}}]);
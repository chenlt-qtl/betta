(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-069cc047"],{"455a":function(t,e,a){"use strict";a("a3b8")},6308:function(t,e,a){"use strict";a.r(e);var s,i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlist"},[a("div",{staticClass:"phone"},[a("div",{staticClass:"inner"},[t._m(0),a("div",{staticClass:"cover"},[a("img",{attrs:{src:t.baseUrl+"/profile/sys/img/18159534045164927.jpg",alt:"Sober Up"}})]),a("div",{staticClass:"info"},[a("h3",{staticClass:"song"},[t._v(t._s(t.articleName))]),a("h4",{staticClass:"artist"},[t._v(t._s(t.displayStr))])]),t._m(1),a("div",{staticClass:"control"},[t._m(2),a("button",{staticClass:"playButton",on:{click:t.playList}},[a("div",[t.isPlaying?t._e():a("i",{staticClass:"fa fa-play"}),t.isPlaying?a("i",{staticClass:"fa fa-pause",staticStyle:{"font-size":"22px",left:"0"}}):t._e()])]),t._m(3)])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("button",{staticClass:"button back"},[a("i",{staticClass:"fa fa-arrow-left"})]),a("h2",{staticClass:"title"},[t._v("播放列表")]),a("button",{staticClass:"button more"},[a("i",{staticClass:"fa fa-ellipsis-h"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time"},[a("div",{staticClass:"bar"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"controlButton"},[a("i",{staticClass:"fa fa-step-backward"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"controlButton"},[a("i",{staticClass:"fa fa-step-forward"})])}],c=a("5530"),l=(a("4de4"),a("b0c0"),a("d3b7"),a("c074")),u=a("ac3c"),o=a("2f62"),f={data:function(){return{baseUrl:"/prod-api",playIndex:0,isPlaying:!1,listData:[],restTime:5400}},computed:Object(c["a"])(Object(c["a"])({},Object(o["b"])(["name"])),{},{articleName:function(){return this.listData.length>0?this.listData[this.playIndex].articleName:"无标题"},displayStr:function(){var t="",e=Math.floor(this.restTime/60);t+=e<10?"0":"",t+=e;var a=this.restTime%60;return t+=a<10?" : 0":" : ",t+=a,t}}),created:function(){var t=this,e=this.name;e||(e=this.$route.query&&this.$route.query.u,e)?Object(u["d"])({pageNum:1,pageSize:1e3,inPlayList:!0,username:e}).then((function(e){t.listData=e.rows.filter((function(t){return t.mp3}))})):this.$modal.msgError("请输入用户名")},methods:{playList:function(){var t=this;this.listData.length<=0?this.$modal.msgError("播放列表为空"):(this.isPlaying?s.pause():s?s.play():(s=this.playMp3(),s.addEventListener("ended",(function(){t.isPlaying&&(t.playIndex<t.listData.length-1?t.playIndex=t.playIndex+1:t.playIndex=0,setTimeout((function(){return t.playMp3()}),1500))}))),this.isPlaying=!this.isPlaying,this.isPlaying&&this.timed())},timed:function(){var t=this;this.restTime<=0?(clearInterval(i),i=null,s.pause()):this.isPlaying&&(this.restTime=this.restTime-1,i=setTimeout((function(){return t.timed()}),1e3))},playMp3:function(){var t=this.listData.length;if(t>0&&this.playIndex<t)return s=Object(l["a"])(this.listData[this.playIndex].mp3),s}}},d=f,p=(a("455a"),a("2877")),h=Object(p["a"])(d,n,r,!1,null,"60ba8cce",null);e["default"]=h.exports},a3b8:function(t,e,a){},ac3c:function(t,e,a){"use strict";a.d(e,"e",(function(){return i})),a.d(e,"d",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return c})),a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return u}));var s=a("b775");function i(t){return Object(s["a"])({url:"/eng/sentence/list",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/eng/sentence/list/play",method:"get",params:t})}function r(t){return Object(s["a"])({url:"/eng/sentence/"+t,method:"get"})}function c(t){return Object(s["a"])({url:"/eng/sentence",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/eng/sentence",method:"put",data:t})}function u(t){return Object(s["a"])({url:"/eng/sentence/"+t,method:"delete"})}},c074:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("ac1f"),a("00b4");var s,i=new Audio,n=function(t,e){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;i.src="/prod-api"+t,i.load(),clearTimeout(s),i.pause();var c=(e||"").split(",");if(2==c.length){if(/^\d+$/.test(c[0]))n=parseInt(c[0]);else if(/^\d+:\d+$/.test(c[0])){var l=c[0].split(":");n=60*parseInt(l[0])+parseInt(l[1])}/^\d+(.\d+)*$/.test(c[1])&&(a=parseFloat(c[1]))}if(i.currentTime=0|n,i.playbackRate=r,i.play(),a){var u=a/r;console.log("duration",u),s=setTimeout((function(){i.pause()}),1e3*u)}return i}}}]);
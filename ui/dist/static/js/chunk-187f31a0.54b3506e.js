(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-187f31a0"],{"430e":function(t,e,a){},6308:function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlist"},[a("div",{staticClass:"phone"},[a("div",{staticClass:"inner"},[t._m(0),a("div",{staticClass:"cover"},[a("img",{attrs:{src:t.baseUrl+"/profile/sys/img/18159534045164927.jpg",alt:"Sober Up"}})]),a("div",{staticClass:"info"},[a("h3",{staticClass:"song"},[t._v(t._s(t.articleName))]),a("h4",{staticClass:"artist"},[t._v("AJR/Rviers Cuomo")])]),t._m(1),a("div",{staticClass:"control"},[t._m(2),a("button",{staticClass:"playButton",on:{click:t.playList}},[a("div",[t.isPlaying?t._e():a("i",{staticClass:"fa fa-play"}),t.isPlaying?a("i",{staticClass:"fa fa-pause",staticStyle:{"font-size":"22px",left:"0"}}):t._e()])]),t._m(3)])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("button",{staticClass:"button back"},[a("i",{staticClass:"fa fa-arrow-left"})]),a("h2",{staticClass:"title"},[t._v("播放列表")]),a("button",{staticClass:"button more"},[a("i",{staticClass:"fa fa-ellipsis-h"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time"},[a("div",{staticClass:"bar"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"controlButton"},[a("i",{staticClass:"fa fa-step-backward"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"controlButton"},[a("i",{staticClass:"fa fa-step-forward"})])}],c=(a("4de4"),a("d3b7"),a("c074")),r=a("ac3c"),l={data:function(){return{baseUrl:"/prod-api",playIndex:0,isPlaying:!1,listData:[]}},computed:{articleName:function(){return this.listData.length>0?this.listData[this.playIndex].articleName:"无标题"}},created:function(){var t=this;Object(r["d"])({pageNum:1,pageSize:1e3,inPlayList:!0}).then((function(e){t.listData=e.rows.filter((function(t){return t.mp3}))}))},methods:{playList:function(){var t=this;this.isPlaying?n.pause():n?n.play():(n=this.playMp3(),n.addEventListener("ended",(function(){t.isPlaying&&(t.playIndex<t.listData.length-1?t.playIndex=t.playIndex+1:t.playIndex=0,setTimeout((function(){return t.playMp3()}),1500))}))),this.isPlaying=!this.isPlaying},playMp3:function(){var t=this.listData.length;if(t>0&&this.playIndex<t)return n=Object(c["a"])(this.listData[this.playIndex].mp3),n}}},u=l,o=(a("8d1e"),a("2877")),d=Object(o["a"])(u,s,i,!1,null,"9ec4e1de",null);e["default"]=d.exports},"8d1e":function(t,e,a){"use strict";a("430e")},ac3c:function(t,e,a){"use strict";a.d(e,"e",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return r})),a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return u}));var n=a("b775");function s(t){return Object(n["a"])({url:"/eng/sentence/list",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/eng/sentence/list/play",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/eng/sentence/"+t,method:"get"})}function r(t){return Object(n["a"])({url:"/eng/sentence",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/eng/sentence",method:"put",data:t})}function u(t){return Object(n["a"])({url:"/eng/sentence/"+t,method:"delete"})}},c074:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n,s=a("3835"),i=(a("ac1f"),a("00b4"),new Audio),c=function(t,e){var a,c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(i.src="/prod-api"+t,i.load(),clearTimeout(n),i.pause(),/^\d+,\d+$/.test(e)){var l=e.split(","),u=Object(s["a"])(l,2),o=u[0],d=void 0===o?0:o,f=u[1],p=void 0===f?0:f;c=parseInt(d),a=parseFloat(p)}if(i.currentTime=0|c,i.playbackRate=r,i.play(),a){var h=a/r;console.log("duration",h),n=setTimeout((function(){i.pause()}),1e3*h)}return i}}}]);
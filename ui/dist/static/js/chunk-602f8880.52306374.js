(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-602f8880"],{"32c4":function(t,e,s){"use strict";s.r(e);var a,i,n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"timer-container"},[s("div",{staticClass:"header"},[s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return t.setTime(30,10)}}},[t._v("30-10")]),s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return t.setTime(45,12)}}},[t._v("45-12")])],1),s("div",{staticClass:"header"},[s("span",[t._v("上课时长: "),s("el-input-number",{staticStyle:{width:"150px"},attrs:{disabled:t.isRun},on:{change:function(e){return t.classDuration=e}},model:{value:t.classDuration,callback:function(e){t.classDuration=e},expression:"classDuration"}})],1),s("span",[t._v("下课时长: "),s("el-input-number",{staticStyle:{width:"150px"},attrs:{disabled:t.isRun},on:{change:function(e){return t.afterClassDuration=e}},model:{value:t.afterClassDuration,callback:function(e){t.afterClassDuration=e},expression:"afterClassDuration"}})],1),s("div",[s("el-button",{on:{click:t.startClass}},[t._v("开始上课")]),s("el-button",{on:{click:t.stop}},[t._v("暂停/继续")]),s("el-popconfirm",{staticStyle:{"margin-left":"10px"},attrs:{disabled:!t.isRun,title:"确认要重置?"},on:{confirm:t.reset}},[s("el-button",{attrs:{slot:"reference",disabled:!t.isRun},slot:"reference"},[t._v("重置")])],1)],1)]),s("div",{staticClass:"display"},[s("div",[t._v(" 当前状态: "),s("div",{class:"status "+(t.classStatus?"inClass":"afterClass")},[t._v(" "+t._s(t.classStatus?"上课":"下课")+" ")])]),s("div",[t._v(" 剩余时间: "),s("div",{staticClass:"restTime"},[s("span",[t._v(t._s(t.displayStr))])])])]),s("el-dialog",{attrs:{title:"",visible:t.open,width:"760px","append-to-body":""},on:{"update:visible":function(e){t.open=e}}},[s("video",{ref:"videoPlayer",attrs:{width:"720",height:"480"}},[s("source",{attrs:{src:t.videoSrc,type:"video/mp4"}})])])],1)},r=[],l=(s("d3b7"),s("c074")),o=[{start:{hour:8,mins:30},end:{hour:12,mins:0}},{start:{hour:13,mins:0},end:{hour:21,mins:30}}],c=["lonely","wangzi","DaDaDa","DiDiDiDiWa","HotHotHot","India","mfsw","TocaToca","TheGreatest"],u=0,d={data:function(){return{classDuration:30,afterClassDuration:12,classStatus:!1,displayStr:"00 : 00",isRun:!1,open:!1,videoSrc:""}},beforeDestroy:function(){clearInterval(a)},methods:{setTime:function(t,e){this.classDuration=t,this.afterClassDuration=e},startClass:function(){clearInterval(a),a=null,this.isRun=!0,this.startInterval(!0)},playVideo:function(){this.videoSrc="/prod-api/profile/sys/video/"+c[u]+".mp4",++u>=c.length&&(u=0),this.$refs.videoPlayer.load(),this.$refs.videoPlayer.play()},soundEffect:function(t){var e=this;this.checkTime()&&(t?(Object(l["a"])("/profile/sys/mp3/5c892db31ad7e23153.mp3"),this.$refs.videoPlayer&&this.$refs.videoPlayer.removeEventListener("pause",this.playVideo)):(Object(l["a"])("/profile/sys/mp3/5c892db3b1b9a62189.mp3"),this.open=!0,this.$nextTick((function(){e.playVideo(),e.$refs.videoPlayer.addEventListener("pause",e.playVideo)}))))},checkTime:function(){var t=new Date,e=!1;return o.forEach((function(s){var a=s.start,i=s.end,n=new Date;n.setHours(a.hour),n.setMinutes(a.mins);var r=new Date;r.setHours(i.hour),r.setMinutes(i.mins),n<=t&&t<=r&&(e=!0)})),e},stop:function(){var t=this;a?(clearInterval(a),a=null):a=setInterval((function(){t.displayStr=t.displayTime(--i)}),1e3)},startInterval:function(t){var e=this;this.soundEffect(t),i=60*(t?this.classDuration:this.afterClassDuration),this.classStatus=t,this.displayStr=this.displayTime(i),a=setInterval((function(){i<=0?(clearInterval(a),a=null,e.startInterval(!t)):e.displayStr=e.displayTime(--i)}),1e3)},reset:function(){this.classStatus=!1,this.displayStr=this.displayTime(0),clearInterval(a),this.isRun=!1},displayTime:function(t){var e="",s=Math.floor(t/60);e+=s<10?"0":"",e+=s;var a=t%60;return e+=a<10?" : 0":" : ",e+=a,e}}},p=d,f=(s("9ada"),s("2877")),v=Object(f["a"])(p,n,r,!1,null,null,null);e["default"]=v.exports},"9ada":function(t,e,s){"use strict";s("a5c8")},a5c8:function(t,e,s){},c074:function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));s("ac1f"),s("00b4");var a,i=new Audio,n=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};i.src="/prod-api"+t,i.load(),clearTimeout(a),i.pause();var n,r,l=1,o=(e||"").split(",");if(2==o.length||3==o.length){if(/^\d+$/.test(o[0]))r=parseInt(o[0]);else if(/^\d+:\d+$/.test(o[0])){var c=o[0].split(":");r=60*parseInt(c[0])+parseInt(c[1])}/^\d+(.\d+)*$/.test(o[1])&&(n=parseFloat(o[1])),o[2]&&(l=parseFloat(o[2]))}if(i.currentTime=0|r,i.playbackRate=l,i.play().catch((function(t){s&&s(t)})),n){var u=n/l;console.log("duration",u),a=setTimeout((function(){i.pause()}),1e3*u)}return i}}}]);
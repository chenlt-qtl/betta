(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a9051ea"],{"1b84":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"topTitle"},[t._v("任务中心")]),n("div",{staticClass:"tabDiv"},[n("ul",{staticClass:"tabs"},t._l(["进行中","待完成","已完成"],(function(e,s){return n("li",{key:e,class:"tab "+(t.selectedType==s+1?"active":""),on:{click:function(){return t.handleTabClick(s+1)}}},[t._v(" "+t._s(e)+" ")])})),0),n("span",{staticClass:"line",style:{left:33*(t.selectedType-.5)-1+"%"}})]),n("el-row",{staticClass:"content"},[n("div",{staticClass:"card"},[n("AddTaskBar",{attrs:{selectedType:t.selectedType,getTaskList:t.getList}}),n("TaskList",{attrs:{selectedType:t.selectedType,getTaskList:t.getList,listData:t.listData}})],1)])],1)},a=[],i=(n("4de4"),n("d3b7"),n("d09d")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[3!=t.selectedType?n("div",{staticClass:"addBar"},[n("i",{staticClass:"el-icon-plus"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{placeholder:"请输入任务内容"},domProps:{value:t.content},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onAddTask(e)},input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("el-button",{attrs:{type:"text"},on:{click:t.onAddTask}},[t._v("保存")])],1):t._e(),n("div",{staticClass:"errorBar",style:{height:t.showMsg?"36px":0}},[n("el-alert",{attrs:{title:"任务名称不能为空",type:"error","show-icon":""}})],1)])},o=[],r={name:"AddTaskBar",props:["selectedType","getTaskList"],data:function(){return{loading:!0,showMsg:!1,content:""}},methods:{onAddTask:function(){var t=this;this.content?(this.showMsg=!1,Object(i["a"])({content:this.content,type:this.selectedType}).then((function(e){t.$modal.msgSuccess("新增成功"),t.content="",t.getTaskList()}))):(this.showMsg=!0,setTimeout((function(){t.showMsg=!1}),2e3))}}},u=r,l=(n("3ce8"),n("2877")),d=Object(l["a"])(u,c,o,!1,null,"2405eec0",null),f=d.exports,p=n("f98b"),k={name:"Task",components:{AddTaskBar:f,TaskList:p["a"]},data:function(){return{selectedType:1,loading:!0,taskList:[],queryParams:{pageNum:1,pageSize:1e3}}},computed:{listData:function(){var t=this;return this.taskList.filter((function(e){return e.type==t.selectedType}))}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,Object(i["d"])(this.queryParams).then((function(e){t.taskList=e.rows,t.loading=!1}))},handleTabClick:function(t){this.selectedType=t}}},h=k,g=(n("d99d"),Object(l["a"])(h,s,a,!1,null,"46c9cf4e",null));e["default"]=g.exports},3695:function(t,e,n){},"3ce8":function(t,e,n){"use strict";n("dd7e")},"9b5f":function(t,e,n){},d09d:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return r}));var s=n("b775");function a(t){return Object(s["a"])({url:"/other/task/list",method:"get",params:t})}function i(t){return Object(s["a"])({url:"/other/task/"+t,method:"get"})}function c(t){return Object(s["a"])({url:"/other/task",method:"post",data:t})}function o(t){return Object(s["a"])({url:"/other/task",method:"put",data:t})}function r(t){return Object(s["a"])({url:"/other/task/"+t,method:"delete"})}},d2f1:function(t,e,n){"use strict";n("9b5f")},d99d:function(t,e,n){"use strict";n("3695")},dd7e:function(t,e,n){},f98b:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"taskDiv"},t._l(t.listData,(function(e){return n("ul",{key:e.id,staticClass:"taskList"},[n("li",{class:"taskItem "+(2==e.taskStatus?"gray":""),on:{click:function(){return t.onEditTask(e)}}},[n("div",{staticClass:"taskName"},[t._v(" "+t._s(e.content)+" ")]),n("span",[1==e.taskStatus?n("el-button",{attrs:{round:"",size:"mini"},on:{click:function(n){return t.onChangeStatus(e,2,n)}}},[t._v("完成")]):t._e(),2==e.taskStatus?n("el-button",{attrs:{round:"",size:"mini"},on:{click:function(n){return t.onChangeStatus(e,1,n)}}},[t._v("重启")]):t._e()],1)])])})),0)},a=[],i=n("5530"),c=n("d09d"),o={name:"TaskList",props:["getTaskList","listData","onEditTask"],data:function(){return{loading:!1}},methods:{onChangeStatus:function(t,e,n){var s=this;n.preventDefault(),n.stopPropagation(),this.loading=!0,Object(c["e"])(Object(i["a"])(Object(i["a"])({},t),{},{taskStatus:e})).then((function(t){s.loading=!1,s.$modal.msgSuccess("修改成功"),s.getTaskList()}))}}},r=o,u=(n("d2f1"),n("2877")),l=Object(u["a"])(r,s,a,!1,null,"7d3ec654",null);e["a"]=l.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8f628e0"],{6941:function(e,t,n){"use strict";var o=function(){var e=this,t=this,n=t.$createElement,o=t._self._c||n;return o("div",[o("el-row",{staticClass:"mb8",attrs:{gutter:10}},[o("el-col",{attrs:{span:1.5}},[t.manualAdd?t._e():o("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(){return t.handleAddWord(!1)}}},[t._v(" 添加 ")])],1),t.manualAdd?o("el-col",{attrs:{span:1.5}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(){return t.handleAddWord(!0)}}},[t._v(" 手工添加 ")])],1):t._e(),t._t("toolBtn",null,{ids:t.ids,relIds:t.relIds})],2),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.listData},on:{"selection-change":t.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),o("el-table-column",{attrs:{label:"单词",align:"center",prop:"wordName"}}),o("el-table-column",{attrs:{label:"原型",align:"center",prop:"prototype"}}),o("el-table-column",{attrs:{label:"音标",align:"center",prop:"phonetics"}}),o("el-table-column",{attrs:{label:"解释",align:"center",prop:"acceptation",formatter:t.acceptationFormatter}}),t.hideScore?t._e():o("el-table-column",{attrs:{label:"熟悉度",align:"center",prop:"familiarity"}}),o("el-table-column",{attrs:{label:"简明释义",align:"center",prop:"exchange"}}),o("el-table-column",{attrs:{label:"音频",align:"center",prop:"phMp3"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.phMp3?[o("el-button",{attrs:{type:"text"},on:{click:function(){return t.play(e.row.phMp3)}}},[o("svg-icon",{attrs:{"icon-class":"sound"}})],1)]:void 0}}],null,!0)}),o("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("tableBtn",null,{word:e.row}),o("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(n){return t.handleUpdate(e.row)}}},[t._v(" 修改 ")])]}}],null,!0)})],1),o("el-dialog",{attrs:{title:"添加",visible:t.openAdd,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.openAdd=e}}},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{attrs:{label:"单词内容",prop:"wordName"}},[o("div",{staticStyle:{display:"flex",gap:"5px"}},[o("el-input",{attrs:{placeholder:"请输入单词内容"},on:{input:function(e){return t.word={}}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchWord(e)}},model:{value:t.form.wordName,callback:function(e){t.$set(t.form,"wordName",e)},expression:"form.wordName"}}),o("el-button",{on:{click:t.searchWord}},[t._v("查詢")])],1)]),o("el-form-item",{attrs:{label:"原型",prop:"prototype"}},[o("el-input",{attrs:{placeholder:"请输原型"},model:{value:t.form.prototype,callback:function(e){t.$set(t.form,"prototype",e)},expression:"form.prototype"}})],1),t.word.phonetics?o("el-form-item",[t._v(" /"+t._s(t.word.phonetics)+"/ "),o("el-button",{attrs:{type:"text"},on:{click:function(){return t.play(t.word.phMp3)}}},[o("svg-icon",{attrs:{"icon-class":"sound"}})],1),t._l(t.acceptations,(function(e){return o("div",{key:e},[t._v(" "+t._s(e)+" ")])}))],2):t._e()],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.acceptations&&t.acceptations.length>0?o("el-button",{attrs:{type:"primary"},on:{click:t.addWordSubmit}},[t._v("添加")]):t._e(),o("el-button",{on:{click:function(){return t.openAdd=!1}}},[t._v("取 消")])],1)],1),o("el-dialog",{attrs:{title:"单词详情",visible:t.openEdit,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.openEdit=e}}},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"单词内容",prop:"wordName"}},[o("el-input",{attrs:{placeholder:"请输入单词内容",disabled:t.isEdit},model:{value:t.form.wordName,callback:function(e){t.$set(t.form,"wordName",e)},expression:"form.wordName"}})],1),o("el-form-item",{attrs:{label:"原型",prop:"prototype"}},[o("el-input",{attrs:{placeholder:"请输原型"},model:{value:t.form.prototype,callback:function(e){t.$set(t.form,"prototype",e)},expression:"form.prototype"}})],1),o("el-form-item",{attrs:{label:"音标",prop:"phonetics"}},[o("el-input",{attrs:{placeholder:"请输入音标",disabled:t.isEdit},model:{value:t.form.phonetics,callback:function(e){t.$set(t.form,"phonetics",e)},expression:"form.phonetics"}})],1),o("el-form-item",{attrs:{label:"解释",prop:"acceptation"}},[o("el-input",{attrs:{disabled:t.isEdit,type:"textarea",placeholder:"请输入内容"},model:{value:t.form.acceptation,callback:function(e){t.$set(t.form,"acceptation",e)},expression:"form.acceptation"}})],1),o("el-form-item",{attrs:{label:"手动注释",prop:"exchange"}},[o("el-input",{attrs:{placeholder:"请输入手动注释"},model:{value:t.form.exchange,callback:function(e){t.$set(t.form,"exchange",e)},expression:"form.exchange"}},[o("el-button",{attrs:{slot:"append"},on:{click:function(){return e.form.exchange=e.form.acceptation}},slot:"append"},[t._v("复制解释")])],1)],1),o("el-form-item",{attrs:{label:"音频位置",prop:"phMp3"}},[o("file-upload",{attrs:{fileType:["mp3"],uploadType:"word"},model:{value:t.form.phMp3,callback:function(e){t.$set(t.form,"phMp3",e)},expression:"form.phMp3"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.getFromApi}},[t._v("获取API数据")]),o("el-button",{attrs:{type:"primary"},on:{click:t.saveWordSubmit}},[t._v("确 定")]),o("el-button",{on:{click:function(){return t.openEdit=!1}}},[t._v("取 消")])],1)],1)],1)},r=[],a=n("5530"),i=(n("d81d"),n("baee")),l={props:["listData","loading","articleId","getWordList","play","manualAdd","hideScore"],data:function(){return{openAdd:!1,openEdit:!1,isEdit:!1,ids:[],relIds:[],form:{},word:{},rules:{wordName:[{required:!0,message:"单词内容不能为空",trigger:"blur"}]}}},computed:{acceptations:function(){return this.word.acceptation?this.word.acceptation.split("|"):[]}},methods:{acceptationFormatter:function(e){var t=e.acceptation;if(t){var n=t.split("|");return n[0]+(n.length>1?"...":"")}return""},handleSelectionChange:function(e){this.relIds=e.map((function(e){return e.relId})),this.ids=e.map((function(e){return e.id}))},handleAddWord:function(e){e?(this.openEdit=!0,this.isEdit=!1):this.openAdd=!0,this.resetForm("form"),this.word={},this.form={}},searchWord:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(i["d"])({wordName:e.form.wordName}).then((function(t){e.word=t.data}))}))},addWordSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(i["b"])(e.articleId,e.form.wordName).then((function(){e.$modal.msgSuccess("添加成功"),e.openAdd=!1,e.getWordList()}))}))},handleUpdate:function(e){this.form=e,this.openEdit=!0,this.isEdit=!0},getFromApi:function(){var e=this;Object(i["e"])(this.form.wordName).then((function(t){var n=t.data,o=n.phonetics,r=n.acceptation,i=n.phMp3;e.form=Object(a["a"])(Object(a["a"])({},e.form),{},{phonetics:o,acceptation:r,phMp3:i})}))},saveWordSubmit:function(){var e=this;this.isEdit?Object(i["i"])(this.form).then((function(){e.$modal.msgSuccess("修改成功"),e.openEdit=!1,e.getWordList()})):Object(i["a"])(this.form).then((function(){e.$modal.msgSuccess("增加成功"),e.openEdit=!1,e.getWordList()}))}}},s=l,c=n("2877"),u=Object(c["a"])(s,o,r,!1,null,"d62760ce",null);t["a"]=u.exports},baee:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return p}));var o=n("b775");function r(e){return Object(o["a"])({url:"/eng/word/list",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/eng/word/list/"+e.articleId,method:"get",params:e})}function i(e){var t=e.wordName;return Object(o["a"])({url:"/eng/word?wordName="+t,method:"get"})}function l(e){return Object(o["a"])({url:"/eng/word",method:"post",data:e})}function s(e,t){return Object(o["a"])({url:"/eng/word/"+e,method:"post",contentType:"application/x-www-form-urlencoded",data:{words:t}})}function c(e,t){return Object(o["a"])({url:"/eng/word/"+e+"/"+t,method:"post"})}function u(e){return Object(o["a"])({url:"/eng/word/api/"+e,method:"get"})}function d(e){return Object(o["a"])({url:"/eng/word",method:"put",data:e})}function p(e){return Object(o["a"])({url:"/eng/word/"+e,method:"delete"})}},c074:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("ac1f"),n("00b4");var o,r=new Audio,a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};r.src="/file"+e,r.load(),clearTimeout(o),r.pause();var a,i,l=1,s=(t||"").split(",");if(2==s.length||3==s.length){if(/^\d+$/.test(s[0]))i=parseInt(s[0]);else if(/^\d+:\d+$/.test(s[0])){var c=s[0].split(":");i=60*parseInt(c[0])+parseInt(c[1])}/^\d+(.\d+)*$/.test(s[1])&&(a=parseFloat(s[1])),s[2]&&(l=parseFloat(s[2]))}if(r.currentTime=0|i,r.playbackRate=l,r.play().catch((function(e){n&&n(e)})),a){var u=a/l;console.log("duration",u),o=setTimeout((function(){r.pause()}),1e3*u)}return r}},cb52:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[n("el-form-item",{attrs:{label:"单词内容",prop:"wordName"}},[n("el-input",{attrs:{placeholder:"请输入单词内容",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.wordName,callback:function(t){e.$set(e.queryParams,"wordName",t)},expression:"queryParams.wordName"}})],1),n("el-form-item",{attrs:{label:"手动注释",prop:"exchange"}},[n("el-input",{attrs:{placeholder:"请输入手动注释",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.exchange,callback:function(t){e.$set(e.queryParams,"exchange",t)},expression:"queryParams.exchange"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),n("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),n("WordTable",{attrs:{play:e.play,listData:e.wordList,getWordList:e.getList,manualAdd:!0,hideScore:!0},scopedSlots:e._u([{key:"toolBtn",fn:function(t){return[n("el-col",{attrs:{span:1.5}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:0==t.ids.length},on:{click:function(){return e.handleDelete(t.ids)}}},[e._v("删除")])],1),n("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})]}},{key:"tableBtn",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.handleDelete([t.word.id])}}},[e._v("删除")])]}}])}),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},r=[],a=n("baee"),i=n("c074"),l=n("6941"),s={name:"Word",components:{WordTable:l["a"]},data:function(){return{loading:!0,showSearch:!0,total:0,wordList:[],queryParams:{pageNum:1,pageSize:10,wordName:null,acceptation:null,exchange:null},form:{},rules:{wordName:[{required:!0,message:"单词内容不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{play:function(e,t){Object(i["a"])(e,t)},getList:function(){var e=this;this.loading=!0,Object(a["f"])(this.queryParams).then((function(t){e.wordList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleDelete:function(e){var t=this;this.$modal.confirm('是否确认删除单词编号为"'+e+'"的数据项？').then((function(){return Object(a["c"])(e)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},c=s,u=n("2877"),d=Object(u["a"])(c,o,r,!1,null,null,null);t["default"]=d.exports}}]);
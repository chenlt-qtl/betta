(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-acf0aaa0","chunk-18d95cea","chunk-467313d4","chunk-19d5fd38","chunk-2d0b3a5b"],{"0a46":function(t,e,n){"use strict";n("a0a4")},"1afb":function(t,e,n){"use strict";n("4190")},"1dc7":function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return l}));var s=n("b775");function i(t){return Object(s["a"])({url:"/eng/score/list",method:"get",params:t})}function r(t){return Object(s["a"])({url:"/eng/score/"+t,method:"get"})}function o(t){return Object(s["a"])({url:"/eng/score",method:"post",data:t})}function a(t){return Object(s["a"])({url:"/eng/score",method:"put",data:t})}function c(t){return Object(s["a"])({url:"/eng/score/batch",method:"put",data:t})}function u(t){return Object(s["a"])({url:"/eng/score/"+t,method:"delete"})}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return Object(s["a"])({url:"/eng/score/list/article/"+t+"/"+e,method:"get"})}function l(t){return Object(s["a"])({url:"/eng/score/list/user",method:"get",params:t})}},"28ed":function(t,e,n){"use strict";n.r(e),n.d(e,"getQuestions",(function(){return s}));n("7db0"),n("a15b"),n("14d9"),n("d3b7"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("00b4"),n("25f0"),n("5319"),n("159b");function s(t){if(!t||t.length<5)return[];var e=[];t.forEach((function(n){e.push(i(n,0,t)),e.push(i(n,1,t));var s=i(n,2,t);s&&e.push(s)}));for(var n=e.length,s=0;s<n;s++){var r=parseInt(Math.random()*n),o=e[s];e[s]=e[r],e[r]=o}return e}function i(t,e,n){var s,i,c;switch(e){case 0:s=r,i=t.wordName;break;case 1:s=o,i=r(t);break;case 2:if(!t.sentence||/^\[NT\]/.test(t.sentence))return;s=o,i=t.sentence.replace(new RegExp(t.wordName,"i"),"_____"),c=t.sentenceAcceptation;break}var u=s(t),d=[],l=parseInt(4*Math.random());d[l]=u;for(var h=a(3,t,n),f=0;f<4;f++)if(f!=l){var p=h.pop();d[f]=s(p)}return{type:e,answerKey:l,answers:d,question:i,sentenceAcceptation:c,word:t}}function r(t){return t.exchange||t.acceptation.split("|").join("")}function o(t){return t.wordName}function a(t,e,n){var s=[],i=200,r=function(){i--;var r=parseInt(Math.random()*n.length),o=n[r],a=s.find((function(t){return o.wordName&&t.wordName==o.wordName}));if(a||o.wordName==e.wordName||s.push(o),s.length>=t)return 1};while(i>0)if(r())break;return s}},"3b7c":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=this,n=e.$createElement,s=e._self._c||n;return s("div",{staticClass:"test-step2"},[s("span",{staticClass:"tip"},[e._v(e._s(e.tip))]),s("section",{staticClass:"question"},[s("section",{style:{fontSize:e.question.type?"16px":"26px"}},[e._v(" "+e._s(e.question.question)+" ")]),e.question.sentenceAcceptation?s("section",[e._v(" "+e._s(this.question.sentenceAcceptation)+" ")]):e._e(),e.question.type?e._e():s("span",{staticClass:"phAm"},[e._v(" / "+e._s(this.question.word.phAm)+" / "),s("svg-icon",{attrs:{"icon-class":"sound"},on:{click:function(){return e.play(t.question.word.phAnMp3)}}})],1)]),s("section",{staticClass:"answer"},[s("ul",e._l(this.question.answers,(function(t,n){return s("li",{key:t,class:"box-block "+e.getAnswerClass(n),on:{click:function(){return e.choseAnswer(n)}}},[e._v(" "+e._s(t)+" ")])})),0)])])},i=[],r=n("c074"),o={props:["wordList","result","questionList"],data:function(){return{index:0,userAnswer:-1,question:{},isStart:!1,tip:""}},created:function(){this.question=this.questionList[this.index]},watch:{question:function(){0==this.question.type&&this.question.word.phAnMp3&&Object(r["a"])(this.question.word.phAnMp3),this.tip=this.index+1+"/"+this.questionList.length}},methods:{getAnswerClass:function(t){if(-1!=this.userAnswer){if(this.userAnswer==t)return this.question.answerKey==t?"right":"wrong";if(this.question.answerKey==t)return"right"}return""},play:function(t){Object(r["a"])(t)},choseAnswer:function(t){var e=this;-1==this.userAnswer&&(this.userAnswer=t,Object(r["a"])(this.question.word.phAnMp3),t==this.question.answerKey?(this.question.word.familiarity=(this.question.word.familiarity||0)+1,this.result.right=this.result.right+1):(this.question.word.familiarity=(this.question.word.familiarity||0)-1,this.result.wrong=this.result.wrong+1),setTimeout((function(){e.index<e.questionList.length-1?(e.index++,e.userAnswer=-1,e.question=e.questionList[e.index]):e.$emit("next")}),1e3))}}},a=o,c=(n("0a46"),n("2877")),u=Object(c["a"])(a,s,i,!1,null,"08994943",null);e["default"]=u.exports},4190:function(t,e,n){},"44cf":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test-step1"},[t.isStart?t._e():n("div",{staticClass:"word-table"},[n("el-table",{staticClass:"table",attrs:{data:t.wordList,"show-header":!1}},[n("el-table-column",{attrs:{label:"单词",prop:"wordName"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.phAnMp3?[n("div",{staticClass:"word-container"},[n("span",{staticClass:"word"},[t._v(" "+t._s(e.row.wordName))]),n("span",[t._v(" / "+t._s(e.row.phAm)+" /")])])]:void 0}}],null,!0)})],1),n("div",{staticClass:"toolbar"},[n("button",{staticClass:"block-button",on:{click:t.start}},[t._v("开始")])])],1),t.isStart?n("div",{staticClass:"word-detail"},[n("section",{staticClass:"wordName"},[t._v(" "+t._s(t.word.wordName)+" "),n("el-button",{staticClass:"soundBtn",attrs:{type:"text"},on:{click:function(){return t.play(t.word.phAnMp3)}}},[n("svg-icon",{attrs:{"icon-class":"sound"}})],1)],1),t.word.phAnMp3?n("div",{staticClass:"ph"},[t._v("/ "+t._s(t.word.phAm)+" /")]):t._e(),n("ul",{staticClass:"acceptations"},t._l(t.acceptations,(function(e){return n("li",{key:e},[t._v(" "+t._s(e)+" ")])})),0),n("div",{staticClass:"toolbar"},[n("button",{staticClass:"block-button",staticStyle:{width:"52px"},on:{click:t.nextStep}},[n("i",{staticClass:"el-icon-right"})])])]):t._e()])},i=[],r=n("c074"),o={props:["wordList","questionList"],data:function(){return{index:0,word:{},isStart:!1}},computed:{acceptations:function(){return this.word?this.word.exchange?[this.word.exchange]:this.word.acceptation.split("|"):[]}},watch:{word:function(){this.word&&this.word.phAnMp3&&Object(r["a"])(this.word.phAnMp3)}},methods:{changeIndex:function(t){this.index=this.index+t,this.word=this.wordList[this.index]},play:function(t){Object(r["a"])(t)},start:function(){this.isStart=!0,this.word=this.wordList[this.index]},nextStep:function(){this.index<this.wordList.length-1?this.changeIndex(1):this.$emit("next")}}},a=o,c=(n("e7bd"),n("2877")),u=Object(c["a"])(a,s,i,!1,null,null,null);e["default"]=u.exports},"57dd":function(t,e,n){},"5c1a":function(t,e,n){"use strict";n("57dd")},"9b28":function(t,e,n){},a0a4:function(t,e,n){},bcf2:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test-step3"},[n("section",{staticClass:"step3-result"},[t._v(" 恭喜您，测试完成！"),n("br"),t._v(" 最终得分 "+t._s(parseInt(100*t.result.right/t.questionList.length))+" 分,答对了 "+t._s(t.result.right)+"题，答错了 "+t._s(t.result.wrong)+" 题。 ")]),n("div",{staticClass:"toolbar"},[n("button",{staticClass:"block-button",on:{click:t.next}},[t._v("下一关")]),t._v(" "),n("button",{staticClass:"block-button",on:{click:t.back}},[t._v("返回")])])])},i=[],r=(n("14d9"),{props:["wordList","result","questionList"],data:function(){return{index:0,userAnswer:-1,question:{},isStart:!1,tip:""}},created:function(){},methods:{next:function(){this.$emit("next")},back:function(){this.$router.push("/eng/article")}}}),o=r,a=(n("1afb"),n("2877")),c=Object(a["a"])(o,s,i,!1,null,"03a17cfc",null);e["default"]=c.exports},c074:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("ac1f"),n("00b4");var s,i=new Audio,r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};i.src="/prod-api"+t,i.load(),clearTimeout(s),i.pause();var r,o,a=1,c=(e||"").split(",");if(2==c.length||3==c.length){if(/^\d+$/.test(c[0]))o=parseInt(c[0]);else if(/^\d+:\d+$/.test(c[0])){var u=c[0].split(":");o=60*parseInt(u[0])+parseInt(u[1])}/^\d+(.\d+)*$/.test(c[1])&&(r=parseFloat(c[1])),c[2]&&(a=parseFloat(c[2]))}if(i.currentTime=0|o,i.playbackRate=a,i.play().catch((function(t){n&&n(t)})),r){var d=r/a;console.log("duration",d),s=setTimeout((function(){i.pause()}),1e3*d)}return i}},e7bd:function(t,e,n){"use strict";n("9b28")},edff:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"test-article"},[n("section",{staticClass:"test-container"},[1==t.step?n("step1",{attrs:{wordList:t.wordList,questionList:t.questionList},on:{next:t.toStep2}}):t._e(),2==t.step?n("step2",{attrs:{wordList:t.wordList,questionList:t.questionList,result:t.result},on:{next:t.toStep3}}):t._e(),3==t.step?n("step3",{attrs:{wordList:t.wordList,result:t.result,questionList:t.questionList},on:{next:t.newLoop}}):t._e()],1)])},i=[],r=(n("4de4"),n("14d9"),n("d3b7"),n("159b"),n("1dc7")),o=n("c074"),a=n("44cf"),c=n("3b7c"),u=n("bcf2"),d=n("28ed"),l={components:{step1:a["default"],step2:c["default"],step3:u["default"]},data:function(){return{loading:!0,wordList:[],questionList:[],result:{right:0,wrong:0},step:0}},created:function(){this.getWords()},methods:{newLoop:function(){this.getWords()},getWords:function(){var t=this,e=this.$route.params&&this.$route.params.articleId;e||this.$message.error("请指定文章ID"),this.loading=!0,Object(r["e"])(e).then((function(e){if(t.wordList=e.data.filter((function(t){return t.wordName})),t.wordList.length<5)return t.$message.error("单词数小于5个，不能测试"),void t.$router.push("/eng/article");t.questionList=Object(d["getQuestions"])(t.wordList),t.start(),t.loading=!1}))},start:function(){this.step=1,this.result={right:0,wrong:0}},toStep2:function(){this.wordList.forEach((function(t){t.familiarity=(t.familiarity||0)+1})),this.step=2},toStep3:function(){var t=this;this.loading=!0,Object(r["b"])(this.wordList).then((function(e){t.step=3,t.loading=!1}))},play:function(t,e){Object(o["a"])(t,e)},acceptationFormatter:function(t){var e=t.acceptation,n=e.split("|");return n[0]+(n.length>1?"...":"")}}},h=l,f=(n("5c1a"),n("2877")),p=Object(f["a"])(h,s,i,!1,null,null,null);e["default"]=p.exports}}]);
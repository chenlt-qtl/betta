(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a955bcc2"],{"3b7c":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=this,s=e.$createElement,i=e._self._c||s;return i("div",{staticClass:"test-step2"},[i("span",{staticClass:"tip"},[e._v(e._s(e.tip))]),i("section",{staticClass:"question"},[i("section",[e._v(e._s(this.question.question))]),e.question.type?e._e():i("span",{staticClass:"phAm"},[e._v(" / "+e._s(this.question.word.phAm)+" / "),i("svg-icon",{attrs:{"icon-class":"sound"},on:{click:function(){return e.play(t.question.word.phAnMp3)}}})],1)]),i("section",{staticClass:"answer"},[i("ul",e._l(this.question.answers,(function(t,s){return i("li",{key:t,class:"box-block "+e.getAnswerClass(s),on:{click:function(){return e.choseAnswer(s)}}},[e._v(" "+e._s(t)+" ")])})),0)])])},n=[],r=(s("7db0"),s("a15b"),s("14d9"),s("d3b7"),s("4d63"),s("c607"),s("ac1f"),s("2c3e"),s("25f0"),s("5319"),s("159b"),s("c074")),o={props:["wordList","result"],data:function(){return{index:0,userAnswer:-1,question:{},isStart:!1,questionList:[],type:0,tip:""}},created:function(){var t=this,e=[];this.wordList.forEach((function(s){e.push(t.getQuestion(s,0)),e.push(t.getQuestion(s,1));var i=t.getQuestion(s,2);i&&e.push(i)}));for(var s=0;s<e.length;s++){var i=parseInt(Math.random()*e.length),n=e[s];e[s]=e[i],e[i]=n}this.questionList=e,this.question=this.questionList[this.index]},watch:{question:function(){0==this.question.type&&this.question.word.phAnMp3&&Object(r["a"])(this.question.word.phAnMp3),this.tip=this.index+this.wordList.length+1+"/"+4*this.wordList.length}},methods:{getAnswerClass:function(t){if(-1!=this.userAnswer){if(this.userAnswer==t)return this.question.answerKey==t?"right":"wrong";if(this.question.answerKey==t)return"right"}return""},getRandomWords:function(t,e){var s=this,i=[],n=function(){var n=parseInt(Math.random()*s.wordList.length),r=s.wordList[n],o=i.find((function(t){return t.wordName&&t.wordName==r.wordName}));if(o||r.wordName==e.wordName||i.push(r),i.length>=t)return 1};while(1)if(n())break;return i},getExchange:function(t){return t.exchange||t.acceptation.split("|").join("")},getWordName:function(t){return t.wordName},getQuestion:function(t,e){var s,i;switch(e){case 0:s=this.getExchange,i=this.getWordName(t);break;case 1:s=this.getWordName,i=this.getExchange(t);break;case 2:if(!t.sentence)return;s=this.getWordName,i=t.sentence.replace(new RegExp(t.wordName,"i"),"_____");break}var n=s(t),r=[],o=parseInt(4*Math.random());r[o]=n;for(var a=this.getRandomWords(3,t),u=0;u<4;u++)if(u!=o){var c=a.pop();r[u]=s(c)}return{type:e,answerKey:o,answers:r,question:i,word:t}},changeIndex:function(t){this.index=this.index+t,this.word=this.wordList[this.index]},play:function(t){Object(r["a"])(t)},choseAnswer:function(t){var e=this;-1==this.userAnswer&&(this.userAnswer=t,Object(r["a"])(this.question.word.phAnMp3),t==this.question.answerKey?(this.question.word.familiarity=(this.question.word.familiarity||0)+1,this.result.right=this.result.right+1):(this.question.word.familiarity=(this.question.word.familiarity||0)-1,this.result.wrong=this.result.wrong+1),setTimeout((function(){e.index<e.questionList.length-1?(e.index++,e.userAnswer=-1,e.question=e.questionList[e.index]):e.$emit("next")}),1e3))}}},a=o,u=(s("8dc3"),s("2877")),c=Object(u["a"])(a,i,n,!1,null,"de4acc08",null);e["default"]=c.exports},"8dc3":function(t,e,s){"use strict";s("b5ef")},b5ef:function(t,e,s){},c074:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));s("ac1f"),s("00b4");var i,n=new Audio,r=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};n.src="/prod-api"+t,n.load(),clearTimeout(i),n.pause();var r,o,a=1,u=(e||"").split(",");if(2==u.length||3==u.length){if(/^\d+$/.test(u[0]))o=parseInt(u[0]);else if(/^\d+:\d+$/.test(u[0])){var c=u[0].split(":");o=60*parseInt(c[0])+parseInt(c[1])}/^\d+(.\d+)*$/.test(u[1])&&(r=parseFloat(u[1])),u[2]&&(a=parseFloat(u[2]))}if(n.currentTime=0|o,n.playbackRate=a,n.play().catch((function(t){s&&s(t)})),r){var h=r/a;console.log("duration",h),i=setTimeout((function(){n.pause()}),1e3*h)}return n}}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fb6be0b","chunk-44547ff9","chunk-68546125","chunk-1ac70e42"],{"0cc8":function(t,e,s){},"1dc7":function(t,e,s){"use strict";s.d(e,"f",(function(){return i})),s.d(e,"d",(function(){return r})),s.d(e,"a",(function(){return o})),s.d(e,"g",(function(){return a})),s.d(e,"b",(function(){return c})),s.d(e,"c",(function(){return u})),s.d(e,"e",(function(){return d}));var n=s("b775");function i(t){return Object(n["a"])({url:"/eng/score/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/eng/score/"+t,method:"get"})}function o(t){return Object(n["a"])({url:"/eng/score",method:"post",data:t})}function a(t){return Object(n["a"])({url:"/eng/score",method:"put",data:t})}function c(t){return Object(n["a"])({url:"/eng/score/batch",method:"put",data:t})}function u(t){return Object(n["a"])({url:"/eng/score/"+t,method:"delete"})}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return Object(n["a"])({url:"/eng/score/list/article/"+t+"/"+e,method:"get"})}},"3b7c":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=this,s=e.$createElement,n=e._self._c||s;return n("div",{staticClass:"test-step2"},[n("span",{staticClass:"tip"},[e._v(e._s(e.tip))]),n("section",{staticClass:"question"},[n("section",{style:{fontSize:e.question.type?"16px":"26px"}},[e._v(" "+e._s(e.question.question)+" ")]),e.question.sentenceAcceptation?n("section",[e._v(" "+e._s(this.question.sentenceAcceptation)+" ")]):e._e(),e.question.type?e._e():n("span",{staticClass:"phAm"},[e._v(" / "+e._s(this.question.word.phAm)+" / "),n("svg-icon",{attrs:{"icon-class":"sound"},on:{click:function(){return e.play(t.question.word.phAnMp3)}}})],1)]),n("section",{staticClass:"answer"},[n("ul",e._l(this.question.answers,(function(t,s){return n("li",{key:t,class:"box-block "+e.getAnswerClass(s),on:{click:function(){return e.choseAnswer(s)}}},[e._v(" "+e._s(t)+" ")])})),0)])])},i=[],r=(s("7db0"),s("a15b"),s("14d9"),s("d3b7"),s("4d63"),s("c607"),s("ac1f"),s("2c3e"),s("25f0"),s("5319"),s("159b"),s("c074")),o={props:["wordList","result"],data:function(){return{index:0,userAnswer:-1,question:{},isStart:!1,questionList:[],type:0,tip:""}},created:function(){var t=this,e=[];this.wordList.forEach((function(s){e.push(t.getQuestion(s,0)),e.push(t.getQuestion(s,1));var n=t.getQuestion(s,2);n&&e.push(n)}));for(var s=0;s<e.length;s++){var n=parseInt(Math.random()*e.length),i=e[s];e[s]=e[n],e[n]=i}this.questionList=e,this.question=this.questionList[this.index]},watch:{question:function(){0==this.question.type&&this.question.word.phAnMp3&&Object(r["a"])(this.question.word.phAnMp3),this.tip=this.index+this.wordList.length+1+"/"+4*this.wordList.length}},methods:{getAnswerClass:function(t){if(-1!=this.userAnswer){if(this.userAnswer==t)return this.question.answerKey==t?"right":"wrong";if(this.question.answerKey==t)return"right"}return""},getRandomWords:function(t,e){var s=this,n=[],i=function(){var i=parseInt(Math.random()*s.wordList.length),r=s.wordList[i],o=n.find((function(t){return t.wordName&&t.wordName==r.wordName}));if(o||r.wordName==e.wordName||n.push(r),n.length>=t)return 1};while(1)if(i())break;return n},getExchange:function(t){return t.exchange||t.acceptation.split("|").join("")},getWordName:function(t){return t.wordName},getQuestion:function(t,e){var s,n,i;switch(e){case 0:s=this.getExchange,n=this.getWordName(t);break;case 1:s=this.getWordName,n=this.getExchange(t);break;case 2:if(!t.sentence)return;s=this.getWordName,n=t.sentence.replace(new RegExp(t.wordName,"i"),"_____"),i=t.sentenceAcceptation;break}var r=s(t),o=[],a=parseInt(4*Math.random());o[a]=r;for(var c=this.getRandomWords(3,t),u=0;u<4;u++)if(u!=a){var d=c.pop();o[u]=s(d)}return{type:e,answerKey:a,answers:o,question:n,sentenceAcceptation:i,word:t}},changeIndex:function(t){this.index=this.index+t,this.word=this.wordList[this.index]},play:function(t){Object(r["a"])(t)},choseAnswer:function(t){var e=this;-1==this.userAnswer&&(this.userAnswer=t,Object(r["a"])(this.question.word.phAnMp3),t==this.question.answerKey?(this.question.word.familiarity=(this.question.word.familiarity||0)+1,this.result.right=this.result.right+1):(this.question.word.familiarity=(this.question.word.familiarity||0)-1,this.result.wrong=this.result.wrong+1),setTimeout((function(){e.index<e.questionList.length-1?(e.index++,e.userAnswer=-1,e.question=e.questionList[e.index]):e.$emit("next")}),1e3))}}},a=o,c=(s("8f33"),s("2877")),u=Object(c["a"])(a,n,i,!1,null,"5711ce20",null);e["default"]=u.exports},"44cf":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"test-step1"},[t.isStart?t._e():s("div",{staticClass:"word-table"},[s("el-table",{staticClass:"table",attrs:{data:t.wordList,size:"mini","show-header":!1}},[s("el-table-column",{attrs:{label:"单词",prop:"wordName"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.phAnMp3?[s("div",{staticClass:"word-container"},[s("section",{staticClass:"word"},[t._v(" "+t._s(e.row.wordName)+" "),s("span",[t._v(" / "+t._s(e.row.phAm)+" /")])])])]:void 0}}],null,!0)})],1),s("div",{staticClass:"toolbar"},[s("button",{staticClass:"block-button",on:{click:t.start}},[t._v("开始")])])],1),t.isStart?s("div",{staticClass:"word-detail"},[s("span",{staticClass:"tip"},[t._v(t._s(t.tip))]),s("section",{staticClass:"wordName"},[t._v(t._s(t.word.wordName))]),t.word.phAnMp3?s("div",{staticClass:"ph"},[t._v(" / "+t._s(t.word.phAm)+" / "),s("el-button",{staticStyle:{marginleft:"10px"},attrs:{type:"text"},on:{click:function(){return t.play(t.word.phAnMp3)}}},[s("svg-icon",{attrs:{"icon-class":"sound"}})],1)],1):t._e(),s("span",{staticStyle:{flex:"1"}},[t._v(" "+t._s(t.word.exchange?t.word.exchange:t.acceptation.split("|").join(""))+" ")]),s("div",{staticClass:"toolbar"},[s("button",{staticClass:"block-button",staticStyle:{width:"52px"},on:{click:t.nextStep}},[s("i",{staticClass:"el-icon-right"})])])]):t._e()])},i=[],r=s("c074"),o={props:["wordList"],data:function(){return{index:0,word:{},isStart:!1,tip:""}},computed:{acceptation:function(){return this.word&&this.word.acceptation?this.word.acceptation:""}},watch:{word:function(){this.word&&this.word.phAnMp3&&Object(r["a"])(this.word.phAnMp3),this.tip=this.index+1+"/"+3*this.wordList.length}},methods:{changeIndex:function(t){this.index=this.index+t,this.word=this.wordList[this.index]},play:function(t){Object(r["a"])(t)},start:function(){this.isStart=!0,this.word=this.wordList[this.index]},nextStep:function(){this.index<this.wordList.length-1?this.changeIndex(1):this.$emit("next")}}},a=o,c=(s("af16"),s("2877")),u=Object(c["a"])(a,n,i,!1,null,null,null);e["default"]=u.exports},"8f33":function(t,e,s){"use strict";s("bae2")},af16:function(t,e,s){"use strict";s("f9cd")},bae2:function(t,e,s){},bcf2:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"test-step3"},[s("section",{staticClass:"step3-result"},[t._v(" 恭喜您，测试完成！"),s("br"),t._v(" 最终得分 "+t._s(parseInt(100*t.result.right/(3*t.wordList.length)))+" 分,答对了 "+t._s(t.result.right)+"题，答错了 "+t._s(t.result.wrong)+" 题。 ")]),s("div",{staticClass:"toolbar"},[s("button",{staticClass:"block-button",on:{click:t.next}},[t._v("下一关")]),t._v(" "),s("button",{staticClass:"block-button",on:{click:t.back}},[t._v("返回")])])])},i=[],r=(s("14d9"),{props:["wordList","result"],data:function(){return{index:0,userAnswer:-1,question:{},isStart:!1,questionList:[],tip:""}},created:function(){},methods:{next:function(){this.$emit("next")},back:function(){this.$router.push("/eng/article")}}}),o=r,a=(s("c510"),s("2877")),c=Object(a["a"])(o,n,i,!1,null,"75e54160",null);e["default"]=c.exports},c074:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));s("ac1f"),s("00b4");var n,i=new Audio,r=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};i.src="/prod-api"+t,i.load(),clearTimeout(n),i.pause();var r,o,a=1,c=(e||"").split(",");if(2==c.length||3==c.length){if(/^\d+$/.test(c[0]))o=parseInt(c[0]);else if(/^\d+:\d+$/.test(c[0])){var u=c[0].split(":");o=60*parseInt(u[0])+parseInt(u[1])}/^\d+(.\d+)*$/.test(c[1])&&(r=parseFloat(c[1])),c[2]&&(a=parseFloat(c[2]))}if(i.currentTime=0|o,i.playbackRate=a,i.play().catch((function(t){s&&s(t)})),r){var d=r/a;console.log("duration",d),n=setTimeout((function(){i.pause()}),1e3*d)}return i}},c510:function(t,e,s){"use strict";s("e8bc")},e8bc:function(t,e,s){},edff:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"test-article"},[s("section",{staticClass:"test-container"},[1==t.step?s("step1",{attrs:{wordList:t.wordList},on:{next:t.toStep2}}):t._e(),2==t.step?s("step2",{attrs:{wordList:t.wordList,result:t.result},on:{next:t.toStep3}}):t._e(),3==t.step?s("step3",{attrs:{wordList:t.wordList,result:t.result},on:{next:t.newLoop}}):t._e()],1)])},i=[],r=(s("14d9"),s("d3b7"),s("159b"),s("1dc7")),o=s("c074"),a=s("44cf"),c=s("3b7c"),u=s("bcf2"),d={components:{step1:a["default"],step2:c["default"],step3:u["default"]},data:function(){return{loading:!0,wordList:[],result:{right:0,wrong:0},step:0}},created:function(){this.getWords()},methods:{newLoop:function(){this.getWords()},getWords:function(){var t=this,e=this.$route.params&&this.$route.params.articleId;e||this.$message.error("请指定文章ID"),this.loading=!0,Object(r["e"])(e).then((function(e){if(t.wordList=e.data,t.wordList.length<5)return t.$message.error("单词数小于5个，不能测试"),void t.$router.push("/eng/article");t.start(),t.loading=!1}))},start:function(){this.step=1,this.result={right:0,wrong:0}},toStep2:function(){this.wordList.forEach((function(t){t.familiarity=(t.familiarity||0)+1})),this.step=2},toStep3:function(){var t=this;this.loading=!0,Object(r["b"])(this.wordList).then((function(e){t.step=3,t.loading=!1}))},play:function(t,e){Object(o["a"])(t,e)},acceptationFormatter:function(t){var e=t.acceptation,s=e.split("|");return s[0]+(s.length>1?"...":"")}}},l=d,h=(s("f570"),s("2877")),p=Object(h["a"])(l,n,i,!1,null,null,null);e["default"]=p.exports},f570:function(t,e,s){"use strict";s("0cc8")},f9cd:function(t,e,s){}}]);
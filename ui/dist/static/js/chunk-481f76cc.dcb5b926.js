(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-481f76cc","chunk-44547ff9","chunk-d196ea3c","chunk-0783aba4"],{"1dc7":function(t,s,e){"use strict";e.d(s,"f",(function(){return i})),e.d(s,"d",(function(){return r})),e.d(s,"a",(function(){return o})),e.d(s,"g",(function(){return a})),e.d(s,"b",(function(){return c})),e.d(s,"c",(function(){return u})),e.d(s,"e",(function(){return d}));var n=e("b775");function i(t){return Object(n["a"])({url:"/eng/score/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/eng/score/"+t,method:"get"})}function o(t){return Object(n["a"])({url:"/eng/score",method:"post",data:t})}function a(t){return Object(n["a"])({url:"/eng/score",method:"put",data:t})}function c(t){return Object(n["a"])({url:"/eng/score/batch",method:"put",data:t})}function u(t){return Object(n["a"])({url:"/eng/score/"+t,method:"delete"})}function d(t){return Object(n["a"])({url:"/eng/score/list/article/"+t+"/5",method:"get"})}},"3b7c":function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=this,e=s.$createElement,n=s._self._c||e;return n("div",{staticClass:"test-step2"},[n("span",{staticClass:"tip"},[s._v(s._s(s.tip))]),n("section",{staticClass:"question"},[n("section",{staticClass:"wordName"},[s._v(s._s(this.question.question))]),s.question.type?s._e():n("span",{staticClass:"phAm"},[s._v(" / "+s._s(this.question.word.phAm)+" / "),n("svg-icon",{attrs:{"icon-class":"sound"},on:{click:function(){return s.play(t.question.word.phAnMp3)}}})],1)]),n("section",{staticClass:"answer"},[n("ul",s._l(this.question.answers,(function(t,e){return n("li",{key:t,class:"box-block "+s.getAnswerClass(e),on:{click:function(){return s.choseAnswer(e)}}},[s._v(" "+s._s(t)+" ")])})),0)])])},i=[],r=(e("7db0"),e("a15b"),e("14d9"),e("d3b7"),e("159b"),e("c074")),o={props:["wordList","result"],data:function(){return{index:0,userAnswer:-1,question:{},isStart:!1,questionList:[],type:0,tip:""}},created:function(){var t=this,s=[];this.wordList.forEach((function(e){s.push(t.getQuestion(e,0)),s.push(t.getQuestion(e,1))}));for(var e=0;e<s.length;e++){var n=parseInt(Math.random()*s.length),i=s[e];s[e]=s[n],s[n]=i}this.questionList=s,this.question=this.questionList[this.index]},watch:{question:function(){0==this.question.type&&this.question.word.phAnMp3&&Object(r["a"])(this.question.word.phAnMp3),this.tip=this.index+this.wordList.length+1+"/"+3*this.wordList.length}},methods:{getAnswerClass:function(t){if(-1!=this.userAnswer){if(this.userAnswer==t)return this.question.answerKey==t?"right":"wrong";if(this.question.answerKey==t)return"right"}return""},getRandomWords:function(t,s){var e=this,n=[],i=function(){var i=parseInt(Math.random()*e.wordList.length),r=e.wordList[i],o=n.find((function(t){return t.wordName&&t.wordName==r.wordName}));if(o||r.wordName==s.wordName||n.push(r),n.length>=t)return 1};while(1)if(i())break;return n},getExchange:function(t){return t.exchange||t.acceptation.split("|").join(";")},getWordName:function(t){return t.wordName},getQuestion:function(t,s){var e=0==s?this.getExchange:this.getWordName,n=e(t),i=[],r=parseInt(4*Math.random());i[r]=n;for(var o=this.getRandomWords(3,t),a=0;a<4;a++)if(a!=r){var c=o.pop();i[a]=e(c)}return{type:s,answerKey:r,answers:i,question:0==s?this.getWordName(t):this.getExchange(t),word:t}},changeIndex:function(t){this.index=this.index+t,this.word=this.wordList[this.index]},play:function(t){Object(r["a"])(t)},choseAnswer:function(t){var s=this;-1==this.userAnswer&&(this.userAnswer=t,Object(r["a"])(this.question.word.phAnMp3),t==this.question.answerKey?(this.question.word.familiarity=(this.question.word.familiarity||0)+1,this.result.right=this.result.right+1):(this.question.word.familiarity=(this.question.word.familiarity||0)-1,this.result.wrong=this.result.wrong+1),setTimeout((function(){s.index<s.questionList.length-1?(s.index++,s.userAnswer=-1,s.question=s.questionList[s.index]):s.$emit("next")}),1e3))}}},a=o,c=(e("c3d3"),e("2877")),u=Object(c["a"])(a,n,i,!1,null,"eea17352",null);s["default"]=u.exports},"44cf":function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"test-step1"},[t.isStart?t._e():e("div",{staticClass:"word-table"},[e("el-table",{staticClass:"table",attrs:{data:t.wordList,size:"mini","show-header":!1}},[e("el-table-column",{attrs:{label:"单词",prop:"wordName"},scopedSlots:t._u([{key:"default",fn:function(s){return s.row.phAnMp3?[e("div",{staticClass:"word-container"},[e("section",{staticClass:"word"},[t._v(" "+t._s(s.row.wordName)+" "),e("span",[t._v(" / "+t._s(s.row.phAm)+" /")])])])]:void 0}}],null,!0)})],1),e("div",{staticClass:"toolbar"},[e("button",{staticClass:"block-button",on:{click:t.start}},[t._v("开始")])])],1),t.isStart?e("div",{staticClass:"word-detail"},[e("span",{staticClass:"tip"},[t._v(t._s(t.tip))]),e("section",{staticClass:"wordName"},[t._v(t._s(t.word.wordName))]),t.word.phAnMp3?e("div",{staticClass:"ph"},[t._v(" / "+t._s(t.word.phAm)+" / "),e("el-button",{staticStyle:{marginleft:"10px"},attrs:{type:"text"},on:{click:function(){return t.play(t.word.phAnMp3)}}},[e("svg-icon",{attrs:{"icon-class":"sound"}})],1)],1):t._e(),e("span",{staticStyle:{flex:"1"}},[t._v(" "+t._s(t.word.exchange?t.word.exchange:t.acceptation.split("|").join(""))+" ")]),e("div",{staticClass:"toolbar"},[e("button",{staticClass:"block-button",staticStyle:{width:"52px"},on:{click:t.nextStep}},[e("i",{staticClass:"el-icon-right"})])])]):t._e()])},i=[],r=e("c074"),o={props:["wordList"],data:function(){return{index:0,word:{},isStart:!1,tip:""}},computed:{acceptation:function(){return this.word&&this.word.acceptation?this.word.acceptation:""}},watch:{word:function(){this.word&&this.word.phAnMp3&&Object(r["a"])(this.word.phAnMp3),this.tip=this.index+1+"/"+3*this.wordList.length}},methods:{changeIndex:function(t){this.index=this.index+t,this.word=this.wordList[this.index]},play:function(t){Object(r["a"])(t)},start:function(){this.isStart=!0,this.word=this.wordList[this.index]},nextStep:function(){this.index<this.wordList.length-1?this.changeIndex(1):this.$emit("next")}}},a=o,c=(e("af16"),e("2877")),u=Object(c["a"])(a,n,i,!1,null,null,null);s["default"]=u.exports},"661c":function(t,s,e){"use strict";e("7f7b")},"7f7b":function(t,s,e){},af16:function(t,s,e){"use strict";e("f9cd")},b6fd:function(t,s,e){"use strict";e("c0b2")},bcf2:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"test-step3"},[e("section",{staticClass:"step3-result"},[t._v(" 恭喜您，测试完成！"),e("br"),t._v(" 最终得分 "+t._s(parseInt(100*t.result.right/(2*t.wordList.length)))+" 分,答对了 "+t._s(t.result.right)+"题，答错了 "+t._s(t.result.wrong)+" 题。 ")]),e("div",{staticClass:"toolbar"},[e("button",{staticClass:"block-button",on:{click:t.next}},[t._v("下一关")]),t._v(" "),e("button",{staticClass:"block-button",on:{click:t.back}},[t._v("返回")])])])},i=[],r=(e("14d9"),{props:["wordList","result"],data:function(){return{index:0,userAnswer:-1,question:{},isStart:!1,questionList:[],tip:""}},created:function(){},methods:{next:function(){this.$emit("next")},back:function(){this.$router.push("/eng/article")}}}),o=r,a=(e("661c"),e("2877")),c=Object(a["a"])(o,n,i,!1,null,"749ec30f",null);s["default"]=c.exports},c074:function(t,s,e){"use strict";e.d(s,"a",(function(){return r}));e("ac1f"),e("00b4");var n,i=new Audio,r=function(t,s){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};i.src="/prod-api"+t,i.load(),clearTimeout(n),i.pause();var r,o,a=1,c=(s||"").split(",");if(2==c.length||3==c.length){if(/^\d+$/.test(c[0]))o=parseInt(c[0]);else if(/^\d+:\d+$/.test(c[0])){var u=c[0].split(":");o=60*parseInt(u[0])+parseInt(u[1])}/^\d+(.\d+)*$/.test(c[1])&&(r=parseFloat(c[1])),c[2]&&(a=parseFloat(c[2]))}if(i.currentTime=0|o,i.playbackRate=a,i.play().catch((function(t){e&&e(t)})),r){var d=r/a;console.log("duration",d),n=setTimeout((function(){i.pause()}),1e3*d)}return i}},c0b2:function(t,s,e){},c3d3:function(t,s,e){"use strict";e("c728")},c728:function(t,s,e){},edff:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"test-article"},[e("section",{staticClass:"test-container"},[1==t.step?e("step1",{attrs:{wordList:t.wordList},on:{next:t.toStep2}}):t._e(),2==t.step?e("step2",{attrs:{wordList:t.wordList,result:t.result},on:{next:t.toStep3}}):t._e(),3==t.step?e("step3",{attrs:{wordList:t.wordList,result:t.result},on:{next:t.newLoop}}):t._e()],1)])},i=[],r=(e("d3b7"),e("159b"),e("1dc7")),o=e("c074"),a=e("44cf"),c=e("3b7c"),u=e("bcf2"),d={components:{step1:a["default"],step2:c["default"],step3:u["default"]},data:function(){return{loading:!0,wordList:[],result:{right:0,wrong:0},step:0}},created:function(){this.getWords()},methods:{newLoop:function(){this.getWords()},getWords:function(){var t=this,s=this.$route.params&&this.$route.params.articleId;s||this.$message.error("请指定文章ID"),this.loading=!0,Object(r["e"])(s).then((function(s){t.wordList=s.data,t.start(),t.loading=!1}))},start:function(){this.step=1,this.result={right:0,wrong:0}},toStep2:function(){this.wordList.forEach((function(t){t.familiarity=(t.familiarity||0)+1})),this.step=2},toStep3:function(){var t=this;this.loading=!0,Object(r["b"])(this.wordList).then((function(s){t.step=3,t.loading=!1}))},play:function(t,s){Object(o["a"])(t,s)},acceptationFormatter:function(t){var s=t.acceptation,e=s.split("|");return e[0]+(e.length>1?"...":"")}}},l=d,h=(e("b6fd"),e("2877")),f=Object(h["a"])(l,n,i,!1,null,null,null);s["default"]=f.exports},f9cd:function(t,s,e){}}]);
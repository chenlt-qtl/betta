(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-320a19f8"],{"0d6b":function(t,e,n){"use strict";n("c9b3")},"1dc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i}));var o=n("b775");function r(t){return Object(o["a"])({url:"/eng/score/batch",method:"put",data:t})}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"familiarity",r={pageNum:1,pageSize:n,orderByColumn:o,isAsc:"ascending",articleId:t,withSentence:e};return i(r)}function i(t){return Object(o["a"])({url:"/eng/score/list/user",method:"get",params:t})}},"419c":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("WordTable",t._b({scopedSlots:t._u([{key:"toolBtn",fn:function(e){return[n("el-col",{attrs:{span:1.5}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:0==e.relIds.length},on:{click:function(){return t.handleDeleteRel(e.relIds)}}},[t._v("删除")])],1),t._t("rightBar")]}},{key:"tableBtn",fn:function(e){return[n("view-word-btn",{staticStyle:{"padding-right":"10px"},attrs:{wordName:e.word.wordName}}),n("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(n){return t.handleDeleteRel([e.word.relId])}}},[t._v("删除")])]}}],null,!0)},"WordTable",t.$props,!1))],1)},r=[],a=n("e532"),i=n("6941"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["eng:article:edit"],expression:"['eng:article:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-search"},on:{click:t.handlePlayArticle}},[t._v(" 查看 ")]),n("el-dialog",{attrs:{title:"查看单词",visible:t.open},on:{"update:visible":function(e){t.open=e}}},[n("div",{staticClass:"wordDetail"},[n("word-detail",{attrs:{wordName:t.wordName}})],1)])],1)},c=[],s=n("e40d"),d={data:function(){return{open:!1}},components:{WordDetail:s["a"]},props:["wordName"],methods:{handlePlayArticle:function(){this.open=!0}}},u=d,p=(n("883e"),n("2877")),f=Object(p["a"])(u,l,c,!1,null,null,null),m=f.exports,h={props:["listData","loading","articleId","getWordList","play"],components:{WordTable:i["a"],ViewWordBtn:m},data:function(){return{}},methods:{handleDeleteRel:function(t){var e=this;this.$modal.confirm("是否确认删除选中的单词？").then((function(){return Object(a["b"])(t)})).then((function(){e.getWordList(),e.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},b=h,g=Object(p["a"])(b,o,r,!1,null,null,null);e["a"]=g.exports},6941:function(t,e,n){"use strict";var o=function(){var t=this,e=this,n=e.$createElement,o=e._self._c||n;return o("div",[o("el-row",{staticClass:"mb8",attrs:{gutter:10}},[o("el-col",{attrs:{span:1.5}},[e.manualAdd?e._e():o("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(){return e.handleAddWord(!1)}}},[e._v(" 添加 ")])],1),e.manualAdd?o("el-col",{attrs:{span:1.5}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(){return e.handleAddWord(!0)}}},[e._v(" 手工添加 ")])],1):e._e(),e._t("toolBtn",null,{ids:e.ids,relIds:e.relIds})],2),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.listData},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),o("el-table-column",{attrs:{label:"单词",align:"center",prop:"wordName"}}),o("el-table-column",{attrs:{label:"音标",align:"center",prop:"phonetics"}}),o("el-table-column",{attrs:{label:"解释",align:"center",prop:"acceptation",formatter:e.acceptationFormatter}}),e.hideScore?e._e():o("el-table-column",{attrs:{label:"熟悉度",align:"center",prop:"familiarity"}}),o("el-table-column",{attrs:{label:"简明释义",align:"center",prop:"exchange"}}),o("el-table-column",{attrs:{label:"音频",align:"center",prop:"phMp3"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.phMp3?[o("el-button",{attrs:{type:"text"},on:{click:function(){return e.play(t.row.phMp3)}}},[o("svg-icon",{attrs:{"icon-class":"sound"}})],1)]:void 0}}],null,!0)}),o("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("tableBtn",null,{word:t.row}),o("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(n){return e.handleUpdate(t.row)}}},[e._v(" 修改 ")])]}}],null,!0)})],1),o("el-dialog",{attrs:{title:"添加",visible:e.openAdd,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.openAdd=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[o("el-form-item",{attrs:{label:"单词内容",prop:"wordName"}},[o("div",{staticStyle:{display:"flex",gap:"5px"}},[o("el-input",{attrs:{placeholder:"请输入单词内容"},on:{input:function(t){return e.word={}}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchWord(t)}},model:{value:e.form.wordName,callback:function(t){e.$set(e.form,"wordName",t)},expression:"form.wordName"}}),o("el-button",{on:{click:e.searchWord}},[e._v("查詢")])],1)]),e.word.phonetics?o("el-form-item",[e._v(" /"+e._s(e.word.phonetics)+"/ "),o("el-button",{attrs:{type:"text"},on:{click:function(){return e.play(e.word.phMp3)}}},[o("svg-icon",{attrs:{"icon-class":"sound"}})],1),e._l(e.acceptations,(function(t){return o("div",{key:t},[e._v(" "+e._s(t)+" ")])}))],2):e._e()],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.acceptations&&e.acceptations.length>0?o("el-button",{attrs:{type:"primary"},on:{click:e.addWordSubmit}},[e._v("添加")]):e._e(),o("el-button",{on:{click:function(){return e.openAdd=!1}}},[e._v("取 消")])],1)],1),o("el-dialog",{attrs:{title:"单词详情",visible:e.openEdit,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.openEdit=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"单词内容",prop:"wordName"}},[o("el-input",{attrs:{placeholder:"请输入单词内容",disabled:e.isEdit},model:{value:e.form.wordName,callback:function(t){e.$set(e.form,"wordName",t)},expression:"form.wordName"}})],1),o("el-form-item",{attrs:{label:"音标",prop:"phonetics"}},[o("el-input",{attrs:{placeholder:"请输入音标",disabled:e.isEdit},model:{value:e.form.phonetics,callback:function(t){e.$set(e.form,"phonetics",t)},expression:"form.phonetics"}})],1),o("el-form-item",{attrs:{label:"解释",prop:"acceptation"}},[o("el-input",{attrs:{disabled:e.isEdit,type:"textarea",placeholder:"请输入内容"},model:{value:e.form.acceptation,callback:function(t){e.$set(e.form,"acceptation",t)},expression:"form.acceptation"}})],1),o("el-form-item",{attrs:{label:"手动注释",prop:"exchange"}},[o("el-input",{attrs:{placeholder:"请输入手动注释"},model:{value:e.form.exchange,callback:function(t){e.$set(e.form,"exchange",t)},expression:"form.exchange"}},[o("el-button",{attrs:{slot:"append"},on:{click:function(){return t.form.exchange=t.form.acceptation}},slot:"append"},[e._v("复制解释")])],1)],1),o("el-form-item",{attrs:{label:"音频位置",prop:"phMp3"}},[o("file-upload",{attrs:{fileType:["mp3"],uploadType:"word"},model:{value:e.form.phMp3,callback:function(t){e.$set(e.form,"phMp3",t)},expression:"form.phMp3"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.getFromApi}},[e._v("获取API数据")]),o("el-button",{attrs:{type:"primary"},on:{click:e.saveWordSubmit}},[e._v("确 定")]),o("el-button",{on:{click:function(){return e.openEdit=!1}}},[e._v("取 消")])],1)],1)],1)},r=[],a=n("5530"),i=(n("d81d"),n("baee")),l={props:["listData","loading","articleId","getWordList","play","manualAdd","hideScore"],data:function(){return{openAdd:!1,openEdit:!1,isEdit:!1,ids:[],relIds:[],form:{},word:{},rules:{wordName:[{required:!0,message:"单词内容不能为空",trigger:"blur"}]}}},computed:{acceptations:function(){return this.word.acceptation?this.word.acceptation.split("|"):[]}},methods:{acceptationFormatter:function(t){var e=t.acceptation;if(e){var n=e.split("|");return n[0]+(n.length>1?"...":"")}return""},handleSelectionChange:function(t){this.relIds=t.map((function(t){return t.relId})),this.ids=t.map((function(t){return t.id}))},handleAddWord:function(t){t?(this.openEdit=!0,this.isEdit=!1):this.openAdd=!0,this.resetForm("form"),this.word={},this.form={}},searchWord:function(){var t=this;this.$refs["form"].validate((function(e){e&&Object(i["d"])({wordName:t.form.wordName}).then((function(e){t.word=e.data}))}))},addWordSubmit:function(){var t=this;this.$refs["form"].validate((function(e){e&&Object(i["b"])(t.articleId,t.form.wordName).then((function(){t.$modal.msgSuccess("添加成功"),t.openAdd=!1,t.getWordList()}))}))},handleUpdate:function(t){this.form=t,this.openEdit=!0,this.isEdit=!0},getFromApi:function(){var t=this;Object(i["e"])(this.form.wordName).then((function(e){var n=e.data,o=n.phonetics,r=n.acceptation,i=n.phMp3;t.form=Object(a["a"])(Object(a["a"])({},t.form),{},{phonetics:o,acceptation:r,phMp3:i})}))},saveWordSubmit:function(){var t=this;this.isEdit?Object(i["i"])(this.form).then((function(){t.$modal.msgSuccess("修改成功"),t.openEdit=!1,t.getWordList()})):Object(i["a"])(this.form).then((function(){t.$modal.msgSuccess("增加成功"),t.openEdit=!1,t.getWordList()}))}}},c=l,s=n("2877"),d=Object(s["a"])(c,o,r,!1,null,"0bebe722",null);e["a"]=d.exports},"883e":function(t,e,n){"use strict";n("a54f")},a54f:function(t,e,n){},baee:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"g",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return l})),n.d(e,"h",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return d})),n.d(e,"i",(function(){return u})),n.d(e,"c",(function(){return p}));var o=n("b775");function r(t){return Object(o["a"])({url:"/eng/word/list",method:"get",params:t})}function a(t){return Object(o["a"])({url:"/eng/word/list/"+t.articleId,method:"get",params:t})}function i(t){var e=t.wordName;return Object(o["a"])({url:"/eng/word?wordName="+e,method:"get"})}function l(t){return Object(o["a"])({url:"/eng/word",method:"post",data:t})}function c(t,e){return Object(o["a"])({url:"/eng/word/"+t,method:"post",contentType:"application/x-www-form-urlencoded",data:{words:e}})}function s(t,e){return Object(o["a"])({url:"/eng/word/"+t+"/"+e,method:"post"})}function d(t){return Object(o["a"])({url:"/eng/word/api/"+t,method:"get"})}function u(t){return Object(o["a"])({url:"/eng/word",method:"put",data:t})}function p(t){return Object(o["a"])({url:"/eng/word/"+t,method:"delete"})}},c074:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("ac1f"),n("00b4");var o,r=new Audio,a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};r.src="/file"+t,r.load(),clearTimeout(o),r.pause();var a,i,l=1,c=(e||"").split(",");if(2==c.length||3==c.length){if(/^\d+$/.test(c[0]))i=parseInt(c[0]);else if(/^\d+:\d+$/.test(c[0])){var s=c[0].split(":");i=60*parseInt(s[0])+parseInt(s[1])}/^\d+(.\d+)*$/.test(c[1])&&(a=parseFloat(c[1])),c[2]&&(l=parseFloat(c[2]))}if(r.currentTime=0|i,r.playbackRate=l,r.play().catch((function(t){n&&n(t)})),a){var d=a/l;console.log("duration",d),o=setTimeout((function(){r.pause()}),1e3*d)}return r}},c9b3:function(t,e,n){},e40d:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t.form.id?n("div",[n("el-descriptions",{staticClass:"margin-top",attrs:{title:t.form.wordName,column:1,colon:!1}},[n("el-descriptions-item",{attrs:{label:""}},[t.form.phMp3?n("div",{staticClass:"ph"},[t._v(" "+t._s(t.form.phonetics)),n("el-button",{staticStyle:{marginleft:"10px"},attrs:{type:"text"},on:{click:function(){return t.play(t.form.phMp3)}}},[n("svg-icon",{attrs:{"icon-class":"sound"}})],1),n("el-button",{staticStyle:{marginleft:"10px"},attrs:{type:"text"},on:{click:function(){return t.play(t.form.phMp3,"0,0,0.5")}}},[n("svg-icon",{attrs:{"icon-class":"sound"}}),n("span",{staticClass:"slow"},[t._v("慢")])],1)],1):t._e(),t.form.relId?t._e():n("el-button",{attrs:{type:"text"},on:{click:t.updateRel}},[n("svg-icon",{attrs:{"icon-class":"star1"}})],1),t.form.relId?n("el-button",{attrs:{type:"text"},on:{click:t.updateRel}},[n("svg-icon",{attrs:{"icon-class":"star-fill"}})],1):t._e(),n("el-button",{attrs:{type:"text",icon:"el-icon-edit-outline"},on:{click:t.updateWord}})],1),t._l(t.form.acceptation.split("|"),(function(e,o){return[n("el-descriptions-item",{key:e,attrs:{labelStyle:{width:"64px"},label:0==o?"词霸释义:":""}},[t._v(t._s(e))])]})),t.form.exchange?n("el-descriptions-item",{attrs:{labelStyle:{width:"64px"},label:"简明注释:"}},[t._v(t._s(t.form.exchange))]):t._e()],2),n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("自定义例句")])]),n("ol",t._l(t.form.sentenceList,(function(e){return n("li",{key:e.id},[n("div",{staticClass:"sentence"},[n("span",[t._v(" "+t._s(e.content)),e.mp3?n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:function(){return t.play(e.mp3)}}},[n("svg-icon",{attrs:{"icon-class":"sound"}})],1):t._e()],1),e.acceptation?n("span",[t._v(t._s(e.acceptation))]):t._e(),e.articleName?n("span",{staticClass:"articleName"},[t._v(t._s(e.articleName))]):t._e()])])})),0)]),n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("爱词霸例句")])]),n("ol",t._l(t.form.icibaSentenceList,(function(e){return n("li",{key:e.id},[n("div",{staticClass:"sentence"},[n("span",[t._v(t._s(e.orig))]),n("span",[t._v(t._s(e.trans))])])])})),0)]),n("br")],1):t._e(),n("el-dialog",{attrs:{title:"更新单词",visible:t.open,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.open=e}}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("div",{staticClass:"word-acceptation"},[t._v(t._s(t.form.acceptation))]),n("el-form-item",{attrs:{label:"简明注释",prop:"exchange"}},[n("el-input",{attrs:{placeholder:"请输入简明注释"},model:{value:t.form.exchange,callback:function(e){t.$set(t.form,"exchange",e)},expression:"form.exchange"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")]),n("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1)],1)},r=[],a=n("baee"),i=n("c074"),l=n("e532"),c={props:["wordName"],name:"Word",data:function(){return{loading:!0,form:{},open:!1}},created:function(){this.getWord(this.wordName)},watch:{wordName:function(){this.getWord(this.wordName)}},methods:{getWord:function(){var t=this;this.wordName?(this.loading=!0,Object(a["d"])({wordName:this.wordName}).then((function(e){t.form=e.data,t.loading=!1}))):this.form={}},updateWord:function(){this.open=!0},play:function(t,e){Object(i["a"])(t,e)},updateRel:function(){var t=this,e=this.form.relId;e?Object(l["b"])(e).then((function(){t.$modal.msgSuccess("取消收藏成功"),t.getWord()})):Object(l["a"])({wordName:this.form.wordName,articleId:0}).then((function(){t.$modal.msgSuccess("收藏成功"),t.getWord()}))},cancel:function(){this.open=!1},submitForm:function(){var t=this;Object(a["i"])(this.form).then((function(){t.$modal.msgSuccess("修改成功"),t.open=!1,t.getWord()}))}}},s=c,d=(n("0d6b"),n("2877")),u=Object(d["a"])(s,o,r,!1,null,"d788194a",null);e["a"]=u.exports},e532:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var o=n("b775");function r(t){return Object(o["a"])({url:"/eng/articleWordRel",method:"post",data:t})}function a(t){return Object(o["a"])({url:"/eng/articleWordRel/"+t,method:"delete"})}}}]);